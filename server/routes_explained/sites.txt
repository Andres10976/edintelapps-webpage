sites.js

Function: POST /sites
Parameters:
- req.body: The request body containing site creation data
  - idClient: The ID of the client associated with the site
  - name: The name of the site
  - supervisor: The ID of the supervisor for the site
Functionality:
- Creates a new site with the provided data
Returns:
- 201 Created with a success message if the site is created successfully
- 500 Internal Server Error if an error occurs

Function: GET /sites
Parameters: None
Functionality:
- Retrieves all sites
Returns:
- 200 OK with an array of site objects
- 500 Internal Server Error if an error occurs

Function: PUT /sites/{id}
Parameters:
- req.params: The request parameters
  - id: The ID of the site to update
- req.body: The request body containing site update data
  - name: The updated name of the site
  - supervisor: The updated ID of the supervisor for the site
  - isActive: The updated active status of the site
Functionality:
- Updates a site with the provided data
Returns:
- 201 Created with a success message if the site is updated successfully
- 500 Internal Server Error if an error occurs

Function: GET /sites/{id}/requests
Parameters:
- req.params: The request parameters
  - id: The ID of the site
Functionality:
- Retrieves requests associated with a specific site
Returns:
- 200 OK with an array of request objects associated with the site
- 500 Internal Server Error if an error occurs

Function: POST /sites/{id}/requests
Parameters:
- req.params: The request parameters
  - id: The ID of the site
- req.body: The request body containing request creation data
  - code: The code of the request
  - type: The type of the request
  - scope: The scope of the request
  - idSystem: The ID of the system
  - idSystemType: The ID of the system type
Functionality:
- Creates a new request associated with a specific site
Returns:
- 201 Created with a success message if the request is created successfully
- 500 Internal Server Error if an error occurs

Function: GET /sites/{id}/requests/{idRequest}
Parameters:
- req.params: The request parameters
  - id: The ID of the site
  - idRequest: The ID of the request
Functionality:
- Retrieves a specific request associated with a site
Returns:
- 200 OK with the request object
- 500 Internal Server Error if an error occurs

Function: PUT /sites/{id}/requests/{idRequest}
Parameters:
- req.params: The request parameters
  - id: The ID of the site
  - idRequest: The ID of the request to update
- req.body: The request body containing request update data
  - code: The updated code of the request
  - type: The updated type of the request
  - scope: The updated scope of the request
  - idSystem: The updated ID of the system
Functionality:
- Updates a specific request associated with a site
Returns:
- 200 OK with the updated request object
- 500 Internal Server Error if an error occurs

Function: GET /sites/{id}/systems
Parameters:
- req.params: The request parameters
  - id: The ID of the site
Functionality:
- Retrieves system types associated with a specific site
Returns:
- 200 OK with an array of system type objects associated with the site
- 500 Internal Server Error if an error occurs

Function: POST /sites/{id}/systems/assign
Parameters:
- req.params: The request parameters
  - id: The ID of the site
- req.body: The request body containing system assignment data
  - idSystem: The ID of the system to assign
  - idSystemType: The ID of the system type to assign
Functionality:
- Assigns a system to a site
Returns:
- 200 OK with a success message if the system is assigned successfully
- 500 Internal Server Error if an error occurs

Function: PUT /sites/{id}/systems/disassociate
Parameters:
- req.params: The request parameters
  - id: The ID of the site
- req.body: The request body containing system disassociation data
  - idSystem: The ID of the system to disassociate
  - idSystemType: The ID of the system type to disassociate
Functionality:
- Disassociates a system from a site
Returns:
- 200 OK with a success message if the system is disassociated successfully
- 500 Internal Server Error if an error occurs